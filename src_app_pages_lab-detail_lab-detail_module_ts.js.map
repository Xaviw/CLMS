{"version":3,"sources":["./src/app/pages/lab-detail/lab-detail.component.ts","./src/app/pages/lab-detail/lab-detail.component.html","./src/app/pages/lab-detail/lab-detail.module.ts","./src/app/pages/lab-detail/seating-chart/seating-chart.component.ts","./src/app/pages/lab-detail/seating-chart/seating-chart.component.html"],"names":[],"mappings":"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","file":"src_app_pages_lab-detail_lab-detail_module_ts.js","sourcesContent":["import { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { CommonService } from '@app/core/services/common.service';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { LabStatus } from '@app/shared/enum/enum';\r\nimport { LabInfo } from '@app/shared/types/commonTypes';\r\nimport { LabManageService } from './../lab-manage/lab-manage.service';\r\nimport { Component, OnInit, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { validateForm } from '@app/shared/utils/utils';\r\nimport { fromEvent } from 'rxjs';\r\nimport * as dayjs from 'dayjs';\r\nimport { CacheService } from '@app/core/services/cache.service';\r\nimport { NzUploadChangeParam } from 'ng-zorro-antd/upload';\r\n\r\n@Component({\r\n  selector: 'lab-detail',\r\n  templateUrl: './lab-detail.component.html',\r\n  styleUrls: ['./lab-detail.component.scss'],\r\n  providers: [LabManageService],\r\n})\r\nexport class LabDetailComponent implements OnInit, AfterViewInit {\r\n  labInfo!: LabInfo; // 机房基础信息\r\n  labStatus = LabStatus; // 机房状态枚举\r\n  courseScheduleParam!: { labId: string; weekTime: number }; // 课程表参数\r\n  freeTime?: string; // 空闲时段\r\n  labId!: string;\r\n  // 编辑机房抽屉\r\n  labDrawer = {\r\n    visible: false,\r\n    status: -1,\r\n    formGroup: this.fb.group({\r\n      name: [null, [Validators.required]],\r\n      description: [null],\r\n    }),\r\n    open: () => {\r\n      this.labDrawer.status = this.labInfo.status;\r\n      this.labDrawer.formGroup.patchValue({\r\n        name: this.labInfo.name,\r\n        description: this.labInfo.description,\r\n      });\r\n      this.labDrawer.visible = true;\r\n    },\r\n  };\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private service: LabManageService,\r\n    private common: CommonService,\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private message: NzMessageService,\r\n    public cache: CacheService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe((res) => {\r\n      // 从路径获取机房id\r\n      this.labId = res.id;\r\n      this.getLabInfo(res.id);\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // 监听照片列表滚动，添加上传按钮阴影\r\n    if (this.cache.functionPermissions('uploadLabPicture')) {\r\n      fromEvent(document.querySelector('.image-group')!, 'scroll').subscribe((e: Event) => {\r\n        if ((e.target! as any).scrollLeft > 0) {\r\n          document.getElementsByClassName('ant-upload-picture-card-wrapper')[0].classList.add('shadow');\r\n        } else {\r\n          document.getElementsByClassName('ant-upload-picture-card-wrapper')[0].classList.remove('shadow');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // 获取机房基础信息\r\n  getLabInfo(id?: string) {\r\n    this.service.getLabInfo(id ?? this.labInfo.id).subscribe((res) => {\r\n      this.labInfo = res as LabInfo;\r\n      this.labDrawer.status = this.labInfo.status;\r\n      if ((res as LabInfo).startFreeTime && (res as LabInfo).endFreeTime) {\r\n        this.freeTime =\r\n          dayjs((res as LabInfo).startFreeTime).format('DD日hh:mm') +\r\n          ' - ' +\r\n          dayjs((res as LabInfo).endFreeTime).format('DD日hh:mm');\r\n      } else {\r\n        this.freeTime = undefined;\r\n      }\r\n      this.courseScheduleParam = {\r\n        weekTime: 1,\r\n        labId: (res as LabInfo).id,\r\n      };\r\n    });\r\n  }\r\n\r\n  // 删除机房\r\n  deleteLab() {\r\n    this.service.deleteLab(this.labInfo.id).subscribe((res) => {\r\n      this.router.navigateByUrl('/lab-manage');\r\n    });\r\n  }\r\n\r\n  // 切换单双周\r\n  weekTimeChange(e: number) {\r\n    this.courseScheduleParam = {\r\n      labId: this.courseScheduleParam.labId,\r\n      weekTime: e,\r\n    };\r\n  }\r\n\r\n  // 修改机房状态\r\n  setLabStatus() {\r\n    if (this.labDrawer.status !== this.labInfo.status) {\r\n      this.common.setLabStatus({ labIds: [this.labInfo?.id], status: this.labDrawer.status }).subscribe((res) => {\r\n        this.labDrawer.visible = false;\r\n        this.labInfo.status = this.labDrawer.status;\r\n      });\r\n    } else {\r\n      this.message.warning('状态未发生变动！');\r\n    }\r\n  }\r\n\r\n  // 修改机房信息\r\n  setLabInfo() {\r\n    validateForm(this.labDrawer.formGroup.controls);\r\n    if (\r\n      this.labDrawer.formGroup.valid &&\r\n      (this.labInfo.name !== this.labDrawer.formGroup.get('name')?.value ||\r\n        this.labInfo.description !== this.labDrawer.formGroup.get('description')?.value)\r\n    ) {\r\n      this.service\r\n        .setLabInfo({ labId: this.labInfo.id, ...this.labDrawer.formGroup.getRawValue() })\r\n        .subscribe((res) => {\r\n          this.labDrawer.visible = false;\r\n          this.getLabInfo();\r\n        });\r\n    } else if (this.labInfo.name === this.labDrawer.formGroup.get('name')?.value) {\r\n      this.message.warning('机房名未发生变动！');\r\n    } else if (this.labInfo.description === this.labDrawer.formGroup.get('description')?.value) {\r\n      this.message.warning('机房描述未发生变动！');\r\n    }\r\n  }\r\n\r\n  // 删除照片\r\n  deletePicture(img: string) {\r\n    const param = {\r\n      labId: this.labId,\r\n      image: img,\r\n    };\r\n    this.service.deletePicture(param).subscribe((res) => {\r\n      if (this.labInfo.image instanceof Array) {\r\n        const index = this.labInfo.image.findIndex((item) => item === img);\r\n        this.labInfo.image.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleUpload(e: NzUploadChangeParam) {\r\n    if (e.file.status === 'done') {\r\n      const param = {\r\n        labId: this.labId,\r\n        names: [e.file.response[0]],\r\n      };\r\n      this.service.uploadPicture(param).subscribe((res) => {\r\n        this.getLabInfo(this.labId);\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div class=\"view_scroll\">\r\n  <nz-page-header style=\"padding-bottom: 24px\">\r\n    <nz-page-header-title>{{ labInfo?.name }}</nz-page-header-title>\r\n    <nz-page-header-subtitle>\r\n      <nz-tag nzColor=\"green\" class=\"status-tag\" *ngIf=\"labInfo?.status === labStatus.open\">开放中</nz-tag>\r\n      <nz-tag nzColor=\"red\" class=\"status-tag\" *ngIf=\"labInfo?.status === labStatus.close\">未开放</nz-tag>\r\n      <nz-tag nzColor=\"gray\" class=\"status-tag\" *ngIf=\"labInfo?.status === labStatus.repair\">维修中</nz-tag>\r\n    </nz-page-header-subtitle>\r\n    <nz-page-header-extra>\r\n      <button nz-button nzType=\"primary\" (click)=\"labDrawer.open()\" *ngIf=\"cache.functionPermissions('editLab')\">\r\n        编辑\r\n      </button>\r\n      <button\r\n        nz-button\r\n        nzDanger\r\n        nzType=\"primary\"\r\n        nz-popconfirm\r\n        nzPopconfirmTitle=\"确认删除?\"\r\n        nzOkText=\"确认\"\r\n        nzCancelText=\"取消\"\r\n        (nzOnConfirm)=\"deleteLab()\"\r\n        *ngIf=\"cache.functionPermissions('deleteLab')\"\r\n      >\r\n        删除\r\n      </button>\r\n    </nz-page-header-extra>\r\n    <nz-page-header-content>\r\n      <nz-descriptions nzSize=\"small\" [nzColumn]=\"2\">\r\n        <nz-descriptions-item nzTitle=\"机房描述\" [nzSpan]=\"1\">\r\n          {{ labInfo?.description ?? '无相关描述...' }}\r\n        </nz-descriptions-item>\r\n        <nz-descriptions-item nzTitle=\"机房容量\" [nzSpan]=\"1\">{{ labInfo?.capacity ?? '--' }}</nz-descriptions-item>\r\n        <nz-descriptions-item nzTitle=\"当前状态\" [nzSpan]=\"1\" *ngIf=\"labInfo?.isFree !== undefined\">{{\r\n          labInfo?.isFree ? '空闲中' : '上课中'\r\n        }}</nz-descriptions-item>\r\n        <nz-descriptions-item nzTitle=\"空闲时段\" [nzSpan]=\"1\" *ngIf=\"freeTime\">{{\r\n          freeTime ?? '--'\r\n        }}</nz-descriptions-item>\r\n      </nz-descriptions>\r\n      <nz-image-group class=\"image-group\">\r\n        <nz-upload\r\n          nzAction=\"/lab/upImage\"\r\n          nzAccept=\"image/*\"\r\n          [nzMultiple]=\"true\"\r\n          [nzShowUploadList]=\"false\"\r\n          nzListType=\"picture-card\"\r\n          *ngIf=\"cache.functionPermissions('uploadLabPicture')\"\r\n          (nzChange)=\"handleUpload($event)\"\r\n        >\r\n          <div>\r\n            <i nz-icon nzType=\"plus\"></i>\r\n            <div style=\"margin-top: 8px\">上传照片</div>\r\n          </div>\r\n        </nz-upload>\r\n        <div class=\"image-container flex-center\" *ngFor=\"let img of labInfo?.image\">\r\n          <button\r\n            nz-button\r\n            nzDanger\r\n            nzType=\"primary\"\r\n            nzSize=\"small\"\r\n            class=\"del-pic\"\r\n            (click)=\"deletePicture(img)\"\r\n            *ngIf=\"cache.functionPermissions('deleteLabPicture')\"\r\n          >\r\n            删除\r\n          </button>\r\n          <img nz-image [nzSrc]=\"img\" alt=\"机房照片\" nzFallback=\"assets/images/errorImage.png\" class=\"image\" />\r\n        </div>\r\n      </nz-image-group>\r\n    </nz-page-header-content>\r\n    <nz-page-header-footer>\r\n      <nz-tabset [nzSelectedIndex]=\"0\">\r\n        <nz-tab nzTitle=\"座位表\">\r\n          <ng-template [ngTemplateOutlet]=\"seatingChartEl\"></ng-template>\r\n        </nz-tab>\r\n        <nz-tab nzTitle=\"课程表\">\r\n          <ng-template [ngTemplateOutlet]=\"courseScheduleEl\"></ng-template>\r\n        </nz-tab>\r\n      </nz-tabset>\r\n    </nz-page-header-footer>\r\n  </nz-page-header>\r\n</div>\r\n\r\n<!-- 座位表 -->\r\n<ng-template #seatingChartEl>\r\n  <seating-chart [labId]=\"labInfo?.id\"></seating-chart>\r\n</ng-template>\r\n\r\n<!-- 课程表 -->\r\n<ng-template #courseScheduleEl>\r\n  <div class=\"my10\">\r\n    <nz-radio-group [ngModel]=\"courseScheduleParam?.weekTime ?? null\" (ngModelChange)=\"weekTimeChange($event)\">\r\n      <label nz-radio-button [nzValue]=\"1\">单周</label>\r\n      <label nz-radio-button [nzValue]=\"2\">双周</label>\r\n    </nz-radio-group>\r\n  </div>\r\n  <schedule #scheduleEl [param]=\"courseScheduleParam\"></schedule>\r\n</ng-template>\r\n\r\n<!-- 编辑机房抽屉 -->\r\n<nz-drawer\r\n  nzWidth=\"300px\"\r\n  [nzClosable]=\"false\"\r\n  [nzVisible]=\"labDrawer.visible\"\r\n  nzPlacement=\"right\"\r\n  nzTitle=\"修改机房\"\r\n  (nzOnClose)=\"labDrawer.visible = false\"\r\n>\r\n  <ng-container *nzDrawerContent>\r\n    <div style=\"margin-bottom: 24px\">\r\n      <h5 nz-typography>修改机房状态:</h5>\r\n      <nz-select [(ngModel)]=\"labDrawer.status\" style=\"width: 100%; margin-bottom: 24px\">\r\n        <nz-option [nzValue]=\"labStatus.open\" nzLabel=\"开放中\"></nz-option>\r\n        <nz-option [nzValue]=\"labStatus.close\" nzLabel=\"未开放\"></nz-option>\r\n        <nz-option [nzValue]=\"labStatus.repair\" nzLabel=\"维修中\" nzDisabled></nz-option>\r\n      </nz-select>\r\n      <button nz-button nzType=\"primary\" (click)=\"setLabStatus()\">修改</button>\r\n    </div>\r\n    <nz-divider></nz-divider>\r\n    <div>\r\n      <h5 nz-typography>修改机房信息:</h5>\r\n      <form nz-form [formGroup]=\"labDrawer.formGroup\" nzLayout=\"vertical\">\r\n        <nz-form-item>\r\n          <nz-form-label nzFor=\"name\" nzRequired>机房名称：</nz-form-label>\r\n          <nz-form-control nzErrorTip=\"机房名称不能为空！\">\r\n            <input nz-input formControlName=\"name\" id=\"name\" placeholder=\"请输入机房名称\" />\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n        <nz-form-item>\r\n          <nz-form-label nzFor=\"description\">机房描述：</nz-form-label>\r\n          <nz-form-control>\r\n            <input nz-input formControlName=\"description\" id=\"description\" placeholder=\"请输入机房描述\" />\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n        <nz-form-item nz-row>\r\n          <nz-form-control [nzSpan]=\"24\">\r\n            <button nz-button nzType=\"primary\" (click)=\"setLabInfo()\">修改</button>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </form>\r\n    </div>\r\n  </ng-container>\r\n</nz-drawer>\r\n","import { SeatingChartComponent } from './seating-chart/seating-chart.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SharedModule } from './../../shared/shared.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { LabDetailComponent } from './lab-detail.component';\r\n\r\nconst route: Routes = [{ path: '', component: LabDetailComponent }];\r\n\r\n@NgModule({\r\n  imports: [SharedModule, RouterModule.forChild(route)],\r\n  declarations: [LabDetailComponent, SeatingChartComponent],\r\n})\r\nexport class LabDetailModule {}\r\n","import { Router } from '@angular/router';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { LabManageService } from './../../lab-manage/lab-manage.service';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { base64Filter, getType } from '@shared/utils/utils';\r\nimport * as _ from 'lodash';\r\nimport * as base64 from 'js-base64';\r\nimport dayjs from 'dayjs';\r\nimport { CacheService } from '@app/core/services/cache.service';\r\n\r\n@Component({\r\n  selector: 'seating-chart',\r\n  templateUrl: './seating-chart.component.html',\r\n  styleUrls: ['./seating-chart.component.scss'],\r\n})\r\nexport class SeatingChartComponent implements OnInit {\r\n  // 机房id\r\n  _labId?: string;\r\n  @Input()\r\n  set labId(v: string | undefined) {\r\n    if (v) {\r\n      this._labId = v;\r\n      this.getSeatingChart();\r\n      this.dateChange(new Date());\r\n    }\r\n  }\r\n  get labId() {\r\n    return this._labId;\r\n  }\r\n\r\n  freeTimeRange: number[] = []; // 空闲时间段\r\n  selectedTime: number = -1; // 选中的时间段\r\n  courseTimes: number[] = []; // 选中的节次\r\n  selectedSeat: (number | string)[] = [];\r\n  originalChart: Array<Array<number>> = []; // 原始座位表\r\n  seatingChart: Array<Array<number | { status: number; id: string }>> = []; // 座位表，包含预约信息\r\n  chartCopy: Array<Array<number>> = []; // 修改座位表\r\n  color = [\r\n    null,\r\n    'rgba(24,144,255,0.8)',\r\n    'rgba(128,128,128,0.8)',\r\n    'rgba(255,77,79,0.8)',\r\n    'rgba(252,135,5,0.8)',\r\n    'rgba(46,204,113,0.8)',\r\n  ]; // 座位对应颜色\r\n  date = new Date(); // 空闲时段日期，默认今天\r\n\r\n  // 设置座位表\r\n  settingChart = {\r\n    visible: false,\r\n    title: '',\r\n    row: 1,\r\n    column: 1,\r\n    open: (title: string) => {\r\n      if (this.originalChart?.length) {\r\n        this.settingChart.row = this.originalChart?.length;\r\n        this.settingChart.column = this.originalChart?.[0]?.length;\r\n        this.chartCopy = _.cloneDeep(this.originalChart);\r\n      } else {\r\n        this.settingChart.row = 1;\r\n        this.settingChart.column = 1;\r\n        this.chartCopy = [[1]];\r\n      }\r\n      this.settingChart.title = title;\r\n      this.settingChart.visible = true;\r\n    },\r\n    chartChange: (flag: boolean) => {\r\n      const row = this.settingChart.row,\r\n        column = this.settingChart.column;\r\n      if (!row || !column) return;\r\n      const row2 = this.chartCopy.length,\r\n        column2 = this.chartCopy[0].length;\r\n      if (flag) {\r\n        // 行变动\r\n        let diff = row - row2;\r\n        if (diff > 0) {\r\n          while (diff--) {\r\n            this.chartCopy.push(Array(column).fill(1));\r\n          }\r\n        } else {\r\n          for (let i = diff; i < 0; i++) {\r\n            this.chartCopy.pop();\r\n          }\r\n        }\r\n      } else {\r\n        // 列变动\r\n        let diff = column - column2;\r\n        if (diff > 0) {\r\n          this.chartCopy = this.chartCopy.map((item) => {\r\n            return [...item, ...Array(diff).fill(1)];\r\n          });\r\n        } else {\r\n          this.chartCopy = this.chartCopy.map((item) => item.slice(0, column2 + diff));\r\n        }\r\n      }\r\n    },\r\n    handleOk: () => {\r\n      if (this.labId) {\r\n        const flag = this.validateChart(this.originalChart, this.chartCopy);\r\n        if (flag) {\r\n          this.service.editSeatingChart({ labId: this.labId, chart: flag }).subscribe((res) => {\r\n            this.settingChart.cancel();\r\n            this.getSeatingChart();\r\n          });\r\n        } else {\r\n          this.message.warning('未修改座位表！');\r\n        }\r\n      }\r\n    },\r\n    cancel: () => {\r\n      this.settingChart.visible = false;\r\n    },\r\n  };\r\n\r\n  constructor(\r\n    private service: LabManageService,\r\n    private message: NzMessageService,\r\n    private router: Router,\r\n    public cache: CacheService,\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  // 切换日期\r\n  dateChange(e: Date) {\r\n    if (this.labId) {\r\n      const param = {\r\n        labId: this.labId,\r\n        date: e,\r\n      };\r\n      this.service.getFreeTimeRange(param).subscribe((res) => {\r\n        this.freeTimeRange = res as number[];\r\n        this.selectedTime = -1;\r\n        this.seatingChart = this.originalChart;\r\n        this.selectedSeat = [];\r\n      });\r\n    }\r\n  }\r\n\r\n  // 获取机房座位表\r\n  getSeatingChart() {\r\n    if (this.labId) {\r\n      this.service.getSeatingChart(this.labId).subscribe((res) => {\r\n        this.seatingChart = res as Array<Array<number>>;\r\n        this.originalChart = res as Array<Array<number>>;\r\n      });\r\n    }\r\n  }\r\n\r\n  // 选中时间段\r\n  checkTime(value: number, index: number) {\r\n    if (this.selectedTime === index) {\r\n      this.selectedTime = -1;\r\n      this.seatingChart = this.originalChart;\r\n    } else {\r\n      this.selectedTime = index;\r\n      this.courseTimes = [value];\r\n      const param = {\r\n        labId: this.labId!,\r\n        time: value,\r\n        date: dayjs(this.date).format('YYYY-MM-DD'),\r\n      };\r\n      this.service.getFreeTimeChart(param).subscribe((res) => {\r\n        this.seatingChart = res as Array<Array<number | { status: number; id: string }>>;\r\n        if (this.selectedSeat.length) {\r\n          let target = (res as Array<Array<number | { status: number; id: string }>>)[\r\n            (this.selectedSeat[1] as number) - 1\r\n          ][(this.selectedSeat[2] as number) - 1];\r\n          if (getType(target) === 'Object') {\r\n            this.selectedSeat[0] = (target as { status: number; id: string }).status;\r\n          } else {\r\n            this.selectedSeat[0] = Number(target);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // 点击座位\r\n  clickSeat(\r\n    status: number | { status: number; id: string },\r\n    isEdit: boolean,\r\n    isSeat: boolean,\r\n    data: any,\r\n    row?: number,\r\n    column?: number,\r\n  ) {\r\n    if (isEdit && data && row !== undefined && column !== undefined) {\r\n      isSeat ? (data[row][column] = 0) : (data[row][column] = 1);\r\n    } else if (isSeat) {\r\n      this.selectedSeat = [\r\n        (status as { status: number; id: string })?.status ?? status,\r\n        ...data,\r\n        (status as { status: number; id: string })?.id,\r\n      ];\r\n    }\r\n  }\r\n\r\n  // 跳转已有申请\r\n  redirectToApplication() {\r\n    let param = { id: this.selectedSeat[3] };\r\n    this.router.navigate(['/apply'], {\r\n      queryParams: { param: base64Filter(param) },\r\n    });\r\n  }\r\n\r\n  // 跳转设备报修\r\n  redirectToRepair() {\r\n    let param = base64Filter({\r\n      type: 2,\r\n      labId: this.labId,\r\n      seat_row: this.selectedSeat[1],\r\n      seat_column: this.selectedSeat[2],\r\n    });\r\n    this.router.navigate(['/apply'], {\r\n      queryParams: { param },\r\n    });\r\n  }\r\n\r\n  // 跳转机房申请\r\n  redirectToLabApply(applyAll = false) {\r\n    let param;\r\n    if (applyAll) {\r\n      param = { type: 0, labId: this.labId, apply_all: applyAll, time: this.date };\r\n    } else {\r\n      if (!this.courseTimes.length) {\r\n        this.message.warning('请选择时间段！');\r\n        return;\r\n      }\r\n      param = {\r\n        type: 0,\r\n        labId: this.labId,\r\n        apply_all: applyAll,\r\n        course: this.courseTimes,\r\n        time: this.date,\r\n        seat_row: this.selectedSeat[1],\r\n        seat_column: this.selectedSeat[2],\r\n      };\r\n    }\r\n    this.router.navigate(['/apply'], {\r\n      queryParams: { param: base64Filter(param) },\r\n    });\r\n  }\r\n\r\n  // 校验座位表\r\n  validateChart(old: Array<Array<number>>, now: Array<Array<number>>): Array<Array<number>> | false {\r\n    // 旧座位表不存在，直接校验通过\r\n    if (!old) return now;\r\n    // 通过新旧课表交集，进行最小比较\r\n    const row = Math.min(old.length, now.length);\r\n    const col = Math.min(old[0].length, now[0].length);\r\n    let isNew = false;\r\n    for (let i = 0; i < row; i++) {\r\n      for (let j = 0; j < col; j++) {\r\n        // 原状态是2现状态是1的，恢复至2\r\n        if (old[i][j] === 2 && now[i][j] === 1) now[i][j] = 2;\r\n        // 状态值复原后，交集中任存在不一致，判断是新座位表\r\n        if (old[i][j] !== now[i][j]) isNew = true;\r\n      }\r\n    }\r\n    // 新旧座位表有超出交集部分，判断是新座位表\r\n    if (old.length !== row || now.length !== row || old[0].length !== col || now[0].length !== col) {\r\n      isNew = true;\r\n    }\r\n    return isNew ? now : false;\r\n  }\r\n}\r\n","<div>\r\n  <div class=\"platform flex-center\" *ngIf=\"seatingChart\">\r\n    <span class=\"flex-center\">讲台</span>\r\n  </div>\r\n  <ng-template [ngTemplateOutlet]=\"chart\" [ngTemplateOutletContext]=\"{ $implicit: seatingChart }\"></ng-template>\r\n</div>\r\n<div class=\"side\">\r\n  <div class=\"block\">\r\n    <div class=\"title flex-between\">\r\n      <span>机房信息：</span>\r\n      <i\r\n        nz-icon\r\n        nzType=\"info-circle\"\r\n        nzTheme=\"twotone\"\r\n        nz-tooltip\r\n        nzTooltipPlacement=\"bottom\"\r\n        nzTooltipTitle=\"选择座位以查看设备信息或申请使用\"\r\n      ></i>\r\n    </div>\r\n    <div>\r\n      <div class=\"flex-between border-bottom\">\r\n        <button\r\n          nz-button\r\n          nzType=\"primary\"\r\n          nzSize=\"small\"\r\n          (click)=\"settingChart.open('快速生成座位表')\"\r\n          *ngIf=\"!seatingChart?.length && cache.functionPermissions('editSeatingChart')\"\r\n        >\r\n          快速生成座位表\r\n        </button>\r\n        <button\r\n          nz-button\r\n          nzType=\"primary\"\r\n          nzSize=\"small\"\r\n          (click)=\"settingChart.open('编辑座位表')\"\r\n          *ngIf=\"seatingChart?.length && cache.functionPermissions('editSeatingChart')\"\r\n        >\r\n          编辑座位表\r\n        </button>\r\n        <button\r\n          nz-button\r\n          nzType=\"primary\"\r\n          nzSize=\"small\"\r\n          (click)=\"redirectToLabApply(true)\"\r\n          *ngIf=\"cache.functionPermissions('applyFullLab')\"\r\n        >\r\n          申请使用整间教室\r\n        </button>\r\n      </div>\r\n      <div *ngIf=\"selectedSeat.length && selectedSeat[0] === 1\">\r\n        <div class=\"flex-between border-bottom\" *ngIf=\"cache.functionPermissions('applyRepairFromLab')\">\r\n          <span nz-typography nzType=\"danger\" class=\"mr10\">该座位设备不能正常使用？</span>\r\n          <button nz-button nzSize=\"small\" nzDanger (click)=\"redirectToRepair()\">设备报修</button>\r\n        </div>\r\n        <div class=\"padding-y\" *ngIf=\"cache.functionPermissions('labApply')\">\r\n          {{ date | date: 'yyyy年MM月dd日' }}，第\r\n          <nz-select\r\n            nzSize=\"small\"\r\n            nzMode=\"multiple\"\r\n            nzPlaceHolder=\"请选择预约节次\"\r\n            [(ngModel)]=\"courseTimes\"\r\n            style=\"width: 129px\"\r\n          >\r\n            <nz-option *ngFor=\"let item of freeTimeRange\" [nzLabel]=\"item\" [nzValue]=\"item\"></nz-option> </nz-select\r\n          >节<br />\r\n          <div class=\"flex-between mt10\">\r\n            <span>座位：{{selectedSeat?.[1]}} - {{selectedSeat?.[2]}}</span>\r\n            <button nz-button nzType=\"primary\" nzSize=\"small\" (click)=\"redirectToLabApply()\">申请使用</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"padding-y\" *ngIf=\"selectedSeat.length && selectedSeat[0] === 2\">\r\n        <span nz-typography nzType=\"danger\">该座位设备无法正常使用，请选择正常状态座位！</span><br />\r\n        <span>座位：{{selectedSeat?.[1]}} - {{selectedSeat?.[2]}}</span>\r\n      </div>\r\n      <div class=\"padding-y\" *ngIf=\"selectedSeat.length && selectedSeat[0] === 3\">\r\n        <span nz-typography nzType=\"danger\">该座位在所选时段已被预约，请重新选择座位或更换时段！</span><br />\r\n        <span>座位：{{selectedSeat?.[1]}} - {{selectedSeat?.[2]}}</span>\r\n      </div>\r\n      <div class=\"padding-y\" *ngIf=\"selectedSeat.length && selectedSeat[0] === 4\">\r\n        <div class=\"flex-between\">\r\n          <span>已申请，等待管理员审核！</span>\r\n          <button nz-button nzType=\"primary\" nzSize=\"small\" (click)=\"redirectToApplication()\">查看详情</button>\r\n        </div>\r\n        <span>座位：{{selectedSeat?.[1]}} - {{selectedSeat?.[2]}}</span>\r\n      </div>\r\n      <div class=\"padding-y\" *ngIf=\"selectedSeat.length && selectedSeat[0] === 5\">\r\n        <div class=\"flex-between\">\r\n          <span>申请已通过！</span>\r\n          <button nz-button nzType=\"primary\" nzSize=\"small\" (click)=\"redirectToApplication()\">查看详情</button>\r\n        </div>\r\n        <span>座位：{{selectedSeat?.[1]}} - {{selectedSeat?.[2]}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- 空闲时段 -->\r\n  <div class=\"block\">\r\n    <div class=\"title flex-between\">\r\n      <span>空闲时段：</span>\r\n      <nz-date-picker nzSize=\"small\" [(ngModel)]=\"date\" (ngModelChange)=\"dateChange($event)\"></nz-date-picker>\r\n    </div>\r\n    <div class=\"view_scroll content\">\r\n      <ul nz-menu empty [emptyData]=\"freeTimeRange\" emptyInfo=\"无相关信息...\" class=\"view\">\r\n        <li\r\n          nz-menu-item\r\n          [nzSelected]=\"selectedTime === i\"\r\n          *ngFor=\"let item of freeTimeRange; let i = index\"\r\n          (click)=\"checkTime(item, i)\"\r\n        >\r\n          <i nz-icon nzType=\"clock-circle\" nzTheme=\"twotone\"></i><span>第{{ item }}节</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n  <!-- 图例 -->\r\n  <div class=\"block\">\r\n    <div class=\"title\">图例：</div>\r\n    <div class=\"flex-between\">\r\n      <div class=\"label\">\r\n        <div [ngStyle]=\"{ 'background-color': color[1] }\"></div>\r\n        <span>正常</span>\r\n      </div>\r\n      <div class=\"label\">\r\n        <div [ngStyle]=\"{ 'background-color': color[2] }\"></div>\r\n        <span>维修中</span>\r\n      </div>\r\n      <div class=\"label\">\r\n        <div [ngStyle]=\"{ 'background-color': color[3] }\"></div>\r\n        <span>已被申请</span>\r\n      </div>\r\n      <div class=\"label\">\r\n        <div [ngStyle]=\"{ 'background-color': color[4] }\"></div>\r\n        <span>申请中</span>\r\n      </div>\r\n      <div class=\"label\">\r\n        <div [ngStyle]=\"{ 'background-color': color[5] }\"></div>\r\n        <span>申请通过</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- 座位表 -->\r\n<ng-template #chart let-data let-colorIndex=\"colorIndex\" let-border=\"border\" let-isEdit=\"isEdit\">\r\n  <div\r\n    class=\"seating-chart\"\r\n    [ngStyle]=\"{\r\n      'grid-template-rows': 'repeat(' + data?.length + ',1fr)',\r\n      'grid-template-columns': 'repeat(' + data?.[0]?.length + ',1fr)'\r\n    }\"\r\n    empty\r\n    [emptyData]=\"data\"\r\n    emptyInfo=\"未设置座位表...\"\r\n  >\r\n    <ng-container *ngFor=\"let row of data; let i = index\">\r\n      <ng-container *ngFor=\"let col of row; let j = index\">\r\n        <div\r\n          [ngClass]=\"{ 'add-border': border }\"\r\n          class=\"seat\"\r\n          *ngIf=\"col != 0\"\r\n          (click)=\"clickSeat(col, isEdit, true, isEdit ? data : [i + 1, j + 1], i, j)\"\r\n        >\r\n          <svg\r\n            viewBox=\"0 0 1024 1024\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            [ngStyle]=\"{ fill: color[colorIndex ?? col?.status ?? col] }\"\r\n          >\r\n            <path\r\n              d=\"M269.21 8.806h485.427c3.277.717 6.605 1.28 9.779 2.253 14.336 4.506 28.518 19.047 28.467 41.882-.256 77.619-.102 155.238-.102 232.857 0 3.175-.103 6.35-.615 9.472-3.174 19.712-20.633 34.663-41.728 34.51-61.696-.36-123.392-.103-185.088-.103h-4.3v16.896h4.25c15.82 0 31.64-.051 47.462 0 13.875.051 22.17 8.448 22.17 22.323v25.14h5.222c101.785 0 203.57 0 305.356.05 4.608 0 9.319.205 13.773 1.28 23.091 5.376 38.963 25.55 39.015 49.664.102 38.912.05 77.824 0 116.736 0 3.021-.256 6.093-.768 9.114-3.43 22.067-22.426 40.14-44.698 41.574-13.363.87-26.778.359-40.14.461h-4.2v357.171c0 1.792 0 3.584-.05 5.376-.512 18.74-13.722 34.51-32.154 38.4-2.15.461-4.3.82-6.502 1.23H810.29c-.921-.206-1.843-.513-2.765-.615a38.82 38.82 0 0 1-20.275-8.141c-11.008-8.602-16.025-20.02-15.974-33.843V870.605c-3.482.256-6.503.665-9.575.665-89.548.052-179.097.052-268.646-.05-4.864 0-9.933-.82-14.592-2.254-21.453-6.45-35.686-26.316-35.686-49.459-.052-67.277 0-134.605 0-201.881v-4.352H260.762v361.881c-.512 18.893-13.773 34.816-32.256 38.759-2.253.46-4.557.819-6.81 1.228h-67.072c-1.946-.307-3.942-.614-5.888-.972-19.968-4.045-33.28-20.276-33.28-40.756V612.966h-4.3c-11.623 0-23.194.052-34.817 0-28.16-.153-50.637-22.528-50.688-50.688-.102-39.219-.051-78.49 0-117.708 0-6.81 1.28-13.466 4.147-19.661 9.472-20.327 25.396-30.823 47.975-30.823h311.245c0-8.55.204-16.69-.052-24.78-.41-12.493 8.295-23.143 22.58-22.784 15.718.41 31.436.102 47.155.102h4.147v-16.896h-4.66c-61.9 0-123.8.051-185.753 0-22.681 0-41.165-17.869-41.165-40.14a93890.09 93890.09 0 0 1 0-240.18c0-18.074 13.005-34.458 30.516-39.014 2.508-.666 4.966-1.076 7.424-1.588zM426.496 449.69h90.829c43.571 0 87.142-.052 130.713 0 24.064.05 41.78 17.51 42.087 41.574.102 8.653.256 17.306-.103 25.958-.204 4.25-.972 8.653-2.355 12.647-5.99 17.357-21.248 27.494-40.857 27.494H172.134c-1.075 0-2.099 0-3.174-.051-22.784-.768-40.038-18.432-40.243-41.216-.103-8.448-.103-16.896.051-25.293.051-3.123.358-6.349 1.075-9.37 4.71-19.404 20.685-31.692 41.114-31.692h214.579v-14.285H78.08c-8.294 0-11.93 3.635-11.93 12.032v112.026c0 8.55 3.584 12.083 12.135 12.083H945.97c8.397 0 11.981-3.533 11.981-11.879V447.386c0-8.295-3.635-11.879-11.98-11.879h-88.27c-.716 0-1.638-.256-2.201.051-.82.461-1.895 1.28-1.997 1.997-.205 2.919 0 5.888-.154 8.858-.102 2.15.615 3.328 2.56 4.454 12.903 7.68 20.992 18.995 22.682 33.946 1.075 9.472.666 19.149.614 28.723 0 4.3-.358 8.653-1.28 12.851-4.761 21.453-24.832 36.967-46.284 36.096-22.324-.921-41.472-17.92-43.93-39.936-1.126-10.342-.82-20.838-.666-31.283.154-15.514 6.298-28.57 19.098-37.325 5.58-3.84 7.526-7.68 6.86-13.977-.46-4.455-.102-4.455-4.454-4.455H658.534c-7.782 0-15.616-.051-23.398.051-1.178 0-2.867.461-3.482 1.332-4.864 6.81-11.52 9.267-19.712 9.267-60.416-.103-120.883-.051-181.299-.051h-4.096c-.051 1.28-.051 2.201-.051 3.584zm344.883 291.43H483.482v77.414c0 7.834 3.584 11.264 11.468 11.264h264.807c8.14 0 11.571-3.43 11.571-11.468v-73.728c.051-1.076.051-2.202.051-3.482zM219.955 613.171c-1.331-.051-2.457-.153-3.584-.153-18.893 0-37.734.05-56.627-.052-3.072 0-3.84.87-3.84 3.892.051 117.606.051 235.161 0 352.768 0 3.072.87 3.89 3.891 3.89 18.893-.102 37.735-.05 56.627-.05h3.533V613.17zM752.077 50.534H276.07c-4.352 0-4.352 0-4.352 4.199v233.37h480.359V50.533zM867.84 973.261V613.274h-55.5V973.26h55.5zm-96.614-359.987H483.789v85.862h287.437v-85.862zM649.37 515.635v-24.269h-48.487v24.27h48.487zm-479.95-24.371v24.525c14.695 0 29.134.051 43.572-.103.614 0 1.69-1.638 1.69-2.508.153-6.196-.052-12.442.153-18.688.103-2.919-.973-3.482-3.635-3.482-12.851.102-25.754.051-38.605.051-1.024.051-2.048.154-3.174.205zm260.506-97.178h63.232c32.564 0 65.178-.05 97.741.052 2.714 0 3.687-.615 3.635-3.533-.05-3.175-2.048-2.611-3.84-2.611H429.926v6.092zM283.7 491.11c-9.165 0-17.971-.05-26.777.103-.564 0-1.588 1.69-1.639 2.56-.153 6.4 0 12.851-.102 19.251-.051 2.304.87 2.816 2.97 2.765 6.86-.103 13.67-.051 20.53-.051h5.018V491.11zm68.967 0c-9.063 0-17.767-.05-26.47.103-.666 0-1.793 1.382-1.793 2.099-.153 6.707-.051 13.466-.102 20.224 0 1.843.768 2.355 2.457 2.304 5.479-.051 10.957 0 16.436 0h9.523c-.051-8.346-.051-16.282-.051-24.73zm68.966 24.73v-24.73c-9.011 0-17.766-.05-26.47.103-.615 0-1.69 1.229-1.69 1.945-.154 6.861-.051 13.722-.102 20.583 0 1.997 1.126 2.15 2.662 2.15 4.966-.051 9.933 0 14.848 0 3.533-.051 7.066-.051 10.752-.051zm69.12-24.576h-28.058v24.371h28.058v-24.371zm69.069.051h-28.007v24.269h28.007v-24.269zm278.989 12.288c0-3.686.05-7.373 0-11.059-.052-3.789-2.407-6.4-5.53-6.451-3.277-.051-5.734 2.662-5.734 6.605-.052 7.27-.052 14.54 0 21.81.05 3.79 2.355 6.4 5.53 6.452 3.276.051 5.682-2.611 5.734-6.554.05-3.635 0-7.219 0-10.803zM504.013 329.882v16.69c4.966 0 9.779.052 14.592-.05.563 0 1.536-.922 1.587-1.434.102-5.018.051-10.035.051-15.206h-16.23z\"\r\n            />\r\n            <path\r\n              d=\"M512.205 63.18h180.07c20.736 0 36.762 13.006 41.011 33.332.615 2.867.87 5.837.87 8.806.052 42.804.103 85.658 0 128.461-.05 20.173-13.158 36.71-32.409 41.011-3.072.666-6.246.973-9.42.973-120.27.051-240.487.051-360.756.051-23.245 0-41.42-17.51-41.574-40.806-.307-43.674-.256-87.347 0-131.02.102-20.532 14.131-36.711 34.201-40.346 2.663-.461 5.479-.461 8.192-.461h179.815zM330.65 233.985h362.598V104.858H330.65v129.126zM627.456 671.59h-90.778c-8.243 0-14.49-3.584-18.278-10.803-3.84-7.27-3.482-14.694 1.126-21.606 3.84-5.837 9.472-8.858 16.538-8.909 8.858-.051 17.715 0 26.573 0h154.982c10.087 0 17.664 5.325 20.48 14.234 4.352 13.772-5.427 27.033-20.121 27.033-30.208.103-60.365.051-90.522.051z\"\r\n            />\r\n          </svg>\r\n          <span [ngStyle]=\"{ color: color[colorIndex ?? col?.status ?? col] }\">{{ i + 1 }}-{{ j + 1 }}</span>\r\n        </div>\r\n        <div\r\n          [ngClass]=\"{ 'add-border': border }\"\r\n          *ngIf=\"col === 0\"\r\n          (click)=\"clickSeat(col, isEdit, false, isEdit ? data : [i + 1, j + 1], i, j)\"\r\n        ></div>\r\n      </ng-container>\r\n    </ng-container>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- 设置座位表 -->\r\n<nz-modal\r\n  nzWidth=\"90%\"\r\n  [nzBodyStyle]=\"{ padding: '10px', overflow: 'auto', 'max-height': 'calc(100vh - 200px)' }\"\r\n  [nzStyle]=\"{ top: '50px' }\"\r\n  [(nzVisible)]=\"settingChart.visible\"\r\n  [nzMaskClosable]=\"false\"\r\n  [nzKeyboard]=\"false\"\r\n  [nzTitle]=\"settingChart.title\"\r\n  (nzOnOk)=\"settingChart.handleOk()\"\r\n  (nzOnCancel)=\"settingChart.cancel()\"\r\n>\r\n  <ng-container *nzModalContent>\r\n    <div class=\"view_scroll\">\r\n      <div style=\"margin-bottom: 10px\">\r\n        行：<nz-input-number\r\n          [(ngModel)]=\"settingChart.row\"\r\n          (ngModelChange)=\"settingChart.chartChange(true)\"\r\n          [nzMin]=\"1\"\r\n          [nzMax]=\"100\"\r\n          [nzStep]=\"1\"\r\n        ></nz-input-number>\r\n        列：<nz-input-number\r\n          [(ngModel)]=\"settingChart.column\"\r\n          (ngModelChange)=\"settingChart.chartChange(false)\"\r\n          [nzMin]=\"1\"\r\n          [nzMax]=\"100\"\r\n          [nzStep]=\"1\"\r\n        ></nz-input-number>\r\n        <i\r\n          nz-icon\r\n          nzType=\"info-circle\"\r\n          nzTheme=\"twotone\"\r\n          nz-tooltip\r\n          nzTooltipPlacement=\"bottom\"\r\n          nzTooltipTitle=\"选择行列快速生成座位表，点击单元格取消或增加座位\"\r\n          class=\"ml5\"\r\n        ></i>\r\n      </div>\r\n      <ng-template\r\n        [ngTemplateOutlet]=\"chart\"\r\n        [ngTemplateOutletContext]=\"{ $implicit: chartCopy, colorIndex: 1, border: true, isEdit: true }\"\r\n      ></ng-template>\r\n    </div>\r\n  </ng-container>\r\n</nz-modal>\r\n"],"sourceRoot":"webpack:///"}